<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ãƒã‚³ãƒ­ã‚¸ã‚¢ï½œç‰¹è¨­ãƒšãƒ¼ã‚¸</title>
<style>
  :root{
    --ink:#fdf6e3; --muted:#9ab0d4; --accent:#71ffd8; --bg:#070c18;
    --neon:#00ffd0; --neon2:#83aaff;
  }
  html,body{height:100%}
  body{
    margin:0; background: radial-gradient(1200px 600px at 70% -10%, rgba(8,40,60,.35), transparent 60%),
                       linear-gradient(180deg,#0a1225,#070c18 40%,#040811);
    color:var(--ink); font-family: ui-sans-serif,system-ui,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
  }
  .wrap{max-width:880px; margin:0 auto; padding:28px 16px 64px}
  header{display:flex; align-items:center; justify-content:space-between; gap:12px}
.logo{
  font-weight:900;
  letter-spacing:.12em;
  font-size:clamp(24px,5vw,40px);
  background: linear-gradient(90deg, #ffd98e, #fff8e1);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:
    0 0 6px rgba(255,220,150,.6),
    0 0 18px rgba(255,200,120,.4),
    0 0 32px rgba(255,180,90,.25);
}
  .pill{
    border:1px solid #233059; color:var(--muted);
    border-radius:999px; padding:6px 12px; font-weight:700; letter-spacing:.06em;
    background:#0b1430aa; backdrop-filter:saturate(1.1) blur(2px);
  }
.stage{
  position: relative;              /* â† è¿½åŠ  */
  min-height: 60vh;
  background: #0b1122 center/contain no-repeat; /* ç”»åƒã¯JSã§å½“ã¦ã‚‹ã®ã§ã“ã“ã¯è‰²ï¼‹é…ç½®ã ã‘ */
  background-size: auto 100%;
  box-shadow: 0 20px 60px rgba(0,0,0,.35), inset 0 0 120px rgba(0,0,0,.45); /* â† è¿·å­æ•‘å‡º */
}
  .veil{position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.65));}
  .cat{
    position:absolute; left:24px; bottom:18px; width:min(24vw,120px); aspect-ratio:1;
    background: radial-gradient(circle at 60% 40%, #111 0 52%, transparent 53%),
                radial-gradient(circle at 40% 40%, #111 0 52%, transparent 53%),
                radial-gradient(60% 18% at 50% 72%, #111 0 49%, transparent 50%);
    filter: drop-shadow(0 0 10px rgba(0,0,0,.6));
    mask: radial-gradient(60% 60% at 50% 55%, #000 70%, transparent 71%);
    border-radius:50%;
  }
  .line{opacity:.0; transform:translateY(6px); transition:opacity .3s ease, transform .3s ease}
  .line.show{opacity:1; transform:none}
  .line b{color:var(--accent)}
  .controls{display:flex; gap:8px; margin-top:10px}
  .btn{
    border:1px solid #2a3b6e; background:#0a1430; color:var(--ink);
    padding:10px 14px; border-radius:12px; font-weight:800; letter-spacing:.08em; cursor:pointer;
  }
  .btn:disabled{opacity:.6; cursor:not-allowed}
  .subtitle{font-size:clamp(18px,3.6vw,26px); font-weight:900; letter-spacing:.08em; margin:8px 0 4px}
  .fine{font-size:13px; color:var(--muted)}
  .hr{height:1px; background:linear-gradient(90deg,transparent,#2b3f6e,transparent); margin:20px 0}
  .footer-note{color:#8296c4; font-size:13px}
  @media (prefers-reduced-motion: reduce){
    .line{transition:none}
  }
  /* === çŒ«ã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼ˆå€‹åˆ¥DLã®ã¿ï¼‰ === */
.cat-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(2, 1fr);
}
@media (min-width:640px){ .cat-grid{ grid-template-columns: repeat(3, 1fr);} }
@media (min-width:980px){ .cat-grid{ grid-template-columns: repeat(4, 1fr);} }

.cat-card{
  position:relative; overflow:hidden; border-radius:12px;
  background:#0b1329; border:1px solid #233059;
  box-shadow: 0 12px 28px rgba(0,0,0,.22) inset;
}
.cat-card img{
  display:block; width:100%;
  height:180px; object-fit:cover; object-position:center;
  filter:saturate(1.03) contrast(1.02);
}
.cat-card.is-gif img{ height:220px; } /* GIFã¯å°‘ã—ã ã‘å¤§ãã‚ã« */
@media (max-width:480px){
  .cat-card img{ height:160px; }
  .cat-card.is-gif img{ height:180px; }
}

/* è§’ã®GIFãƒãƒƒã‚¸ï¼ˆä»»æ„ï¼‰ */
.cat-badge {
  position:absolute; top:8px; right:8px;
  padding:2px 6px; font-size:12px; font-weight:800;
  border-radius:6px; letter-spacing:.04em;
  color:#061627; background:linear-gradient(180deg,#71ffd8,#56e3c5);
  box-shadow:0 2px 10px rgba(0,0,0,.25);
}

.cat-meta{
  display:flex; justify-content:space-between; align-items:center; gap:8px;
  padding:8px 10px; font-size:13px; color:var(--muted);
}
.cat-actions a{
  text-decoration:none; border:1px solid #2a3b6e; border-radius:8px; padding:4px 8px; color:var(--ink);
}
  .logo-img {
  display: block;
  max-width: 100%;
  height: auto;
  margin: 20px auto; /* ä¸Šä¸‹ã«ä½™ç™½ã‚’è¿½åŠ  */
}
  .subs{
  position:absolute; left:50%; bottom:5%;
  transform:translateX(-50%);
  width:min(92vw,900px);
  padding:10px 14px; text-align:center; pointer-events:none;
}
.subs-line{
  display:inline-block;
  font-family:"Yu Mincho","Hiragino Mincho ProN",serif;
  font-weight:700; font-size:clamp(18px,2.6vw,28px);
  line-height:1.35; letter-spacing:.02em;
  color:#f5f2e6; /* ã‚¯ãƒªãƒ¼ãƒ å¯„ã‚Šã®ç™½ */
  text-shadow:
    -1px -1px 0 #000,  1px -1px 0 #000,
    -1px  1px 0 #000,  1px  1px 0 #000,
     0    0   8px rgba(0,0,0,.35);
  min-height:2.4em;
}
.subs-audio{
  position:absolute; right:6px; bottom:-6px; transform:translateY(100%);
  pointer-events:auto; border:none; border-radius:10px;
  padding:4px 8px; font-size:14px; cursor:pointer;
  color:#061627; background:linear-gradient(180deg,#71ffd8,#55e3c4);
  box-shadow:0 2px 10px rgba(0,0,0,.3);
}
.subs-audio[aria-pressed="false"]{ filter:grayscale(1) brightness(.75); }
</style>
</head>
<body>
  <div class="wrap">
<header>
  <img src="images/logo_necologia.jpg" alt="FictitiousTV ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¢ãƒ‹ãƒ¡ ãƒã‚³ãƒ­ã‚¸ã‚¢" class="logo-img">
</header>

    <section class="stage" aria-label="ã‚ã‚‰ã™ã˜ãƒ»ã‚·ãƒãƒãƒ†ã‚£ãƒƒã‚¯è¡¨ç¤º">
      <div class="veil"></div>
      <div class="cat" aria-hidden="true"></div>

        <div class="controls">
          <button class="btn" id="playBtn">â–¶ ã¯ã˜ã‚ã‚‹</button>
          <button class="btn" id="replayBtn" disabled>âŸ² ã‚‚ã†ä¸€åº¦</button>
        </div>
        <!-- â–¼ å­—å¹•ã‚¨ãƒªã‚¢ï¼šèƒŒæ™¯ã®ä¸Šã«é‡ã­ã‚‹ -->
<div class="subs" id="subs">
  <div class="subs-line" id="subsText"></div>
  <button class="subs-audio" id="subsSoundBtn" aria-pressed="true" title="åŠ¹æœéŸ³ ON/OFF">ğŸ”Š</button>
</div>
    </section>
<div class="hr"></div>

<!-- â–¼ çŒ«ãƒ•ã‚©ãƒˆãƒ»ã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼ˆå€‹åˆ¥DLã®ã¿ï¼‰ -->
<section class="wrap" id="cats">
  <h2 style="margin:0 0 10px; letter-spacing:.06em;">çŒ«ãƒ•ã‚©ãƒˆãƒ»ã‚®ãƒ£ãƒ©ãƒªãƒ¼</h2>
  <p style="margin:0 0 16px; color:#9ab0d4">
    ã‚«ãƒ¼ãƒ‰ä¸‹ã®ã€ŒDLã€ã§ä¿å­˜ã§ãã¾ã™ã€‚
  </p>
  <div class="cat-grid" id="catGrid" aria-live="polite"></div>
</section>
  <!-- â–¼ BGMï¼ˆãƒ‘ã‚¹ã‚’ã‚ãªãŸã®mp3ã«å¤‰æ›´ï¼‰ -->
  <audio id="bgm" preload="auto" loop src="AUDIO_SRC"></audio>

<script>
/* ====== è¨­å®šï¼šã“ã“ã ã‘å¤‰æ›´ ====== */
const AUDIO_SRC = 'audio/Nekologia.mp3';    // â† BGMãƒ•ã‚¡ã‚¤ãƒ«ã®ç›¸å¯¾ãƒ‘ã‚¹
const BG_IMAGE  = 'images/city_neon.jpg';   // â† èƒŒæ™¯ç”»åƒï¼ˆä»»æ„ï¼‰

/* åæ˜  */
document.getElementById('bgm').src = AUDIO_SRC;
document.querySelector('.stage').style.backgroundImage =
  `linear-gradient(transparent,transparent), url('${BG_IMAGE}')`;

/* ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§ãˆãŸã„è¨­å®šã®å ´åˆã€å³åº§ã«å…¨æ–‡è¡¨ç¤º */
if (window.matchMedia('(prefers-reduced-motion: reduce)').matches){
  document.querySelectorAll('.line').forEach(el=>el.classList.add('show'));
  playBtn.disabled = false;
}
  /* === çŒ«ã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼šè¨­å®š === */
// ã¾ãšã¯ãƒ€ãƒŸãƒ¼5æšã€‚å®Ÿãƒ•ã‚¡ã‚¤ãƒ«åã«ç½®ãæ›ãˆã¦OKï¼ˆcats/ ãƒ•ã‚©ãƒ«ãƒ€æ¨å¥¨ï¼‰
const CAT_IMAGES = [
  'cats/loop01.gif',  // GIF1
  'cats/loop02.gif',  // GIF2
  'cats/cat01.jpg',   // å†™çœŸ1
  'cats/cat02.jpg',   // å†™çœŸ2
  'cats/cat03.jpg',   // å†™çœŸ3
  'cats/cat04.jpg',   // å†™çœŸ4
  'cats/cat05.jpg',   // å†™çœŸ5
  'cats/cat06.JPG',   // å†™çœŸ6
];

/* === çŒ«ã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼šæç”» === */
const grid = document.getElementById('catGrid');
function fileNameFromPath(p){ return p.split('/').pop(); }
function isGif(path){ return /\.gif$/i.test(path); }

function renderCats(){
  if(!grid) return;
  grid.innerHTML = '';
  CAT_IMAGES.forEach((src, i)=>{
    const gif = isGif(src);

    const card = document.createElement('div');
    card.className = 'cat-card' + (gif ? ' is-gif' : '');

    const img = document.createElement('img');
    img.loading = 'lazy';
    img.decoding = 'async';
    img.src = src;
    img.alt = (gif ? 'GIF' : 'ç”»åƒ') + ' çŒ« ' + (i+1);
    card.appendChild(img);

    if(gif){
      const badge = document.createElement('span');
      badge.className = 'cat-badge';
      badge.textContent = 'GIF';
      card.appendChild(badge);
    }

    const meta = document.createElement('div');
    meta.className = 'cat-meta';
    const name = document.createElement('span');
    name.textContent = fileNameFromPath(src);

    const actions = document.createElement('div');
    actions.className = 'cat-actions';
    const a = document.createElement('a');
    a.href = src;
    a.download = fileNameFromPath(src);
    a.textContent = 'DL';
    actions.appendChild(a);

    meta.appendChild(name);
    meta.appendChild(actions);
    card.appendChild(meta);

    grid.appendChild(card);
  });
}
renderCats();
// ---------- WebAudio ã‚¯ãƒªãƒƒã‚¯éŸ³ ----------
let audioCtx = null;
function playClick(){
  if(!soundOn) return;
  // åˆå›ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œå¾Œã«Contextã‚’ä½œæˆï¼ˆè‡ªå‹•å†ç”Ÿå¯¾ç­–ï¼‰
  if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = 'square';
  osc.frequency.value = 900;      // éŸ³ã®é«˜ã•
  gain.gain.value = 0.05;         // éŸ³é‡
  const t = audioCtx.currentTime;
  gain.gain.setValueAtTime(0.05, t);
  gain.gain.exponentialRampToValueAtTime(0.001, t + 0.06); // ä½™éŸ»ã‚’çŸ­ã
  osc.connect(gain); gain.connect(audioCtx.destination);
  osc.start(t); osc.stop(t + 0.07);
}

// ---------- å­—å¹•ï¼šã‚¿ã‚¤ãƒ—è¡¨ç¤º ----------
const subsEl = document.getElementById('subsText');
const soundBtn = document.getElementById('subsSoundBtn');
let soundOn = true;
soundBtn?.addEventListener('click', ()=>{
  soundOn = !soundOn;
  soundBtn.setAttribute('aria-pressed', String(soundOn));
});

function wait(ms){ return new Promise(r=>setTimeout(r,ms)); }

/** 1æ–‡å­—ãšã¤è¡¨ç¤ºï¼ˆå¥èª­ç‚¹ã‚„ç©ºç™½ã¯ç„¡éŸ³ï¼‰ */
async function typeLine(text, cps=30){
  subsEl.textContent = '';
  if(!text){ await wait(200); return; }
  const delay = 1000 / cps;
  for(let i=0;i<text.length;i++){
    const ch = text[i];
    subsEl.textContent += ch;
    if(!/[\sã€€ã€ã€‚ãƒ»ï¼Œï¼â€¦]/.test(ch)) playClick();
    await wait(delay);
  }
}

/** è¡Œã®é…åˆ—ã‚’é †ã«è¡¨ç¤º */
async function playSubtitles(lines, cps=28, hold=800){
  subsEl.parentElement.style.opacity = 1;
  for(const line of lines){
    await typeLine(line, cps);
    await wait(hold);
  }
}

// ä¾‹ï¼šæ—¢å­˜ã®ã€Œâ–¶ ã¯ã˜ã‚ã‚‹ã€æŠ¼ä¸‹ã§å­—å¹•ã‚¹ã‚¿ãƒ¼ãƒˆ
document.getElementById('playBtn')?.addEventListener('click', ()=>{
playSubtitles([
  '22ä¸–ç´€ã€‚å¤§æˆ¦ã®å‚·è·¡ãŒæ®‹ã‚‹è¾ºå¢ƒéƒ½å¸‚ã§ã€',
  'è¨˜æ†¶ã‚’å¤±ã£ãŸæˆ¦äº‰å­¤å…ã®é’å¹´ã¯ã€',
  'åå‰ã‚’æŒãŸãšã«ç”Ÿãã‚‹ä¸€åŒ¹ã®çŒ«ã¨å‡ºä¼šã†ã€‚',
  'å¤±ã‚ã‚ŒãŸè¨˜æ†¶ã¨ã€ä¸ãˆã‚‰ã‚Œãªã‹ã£ãŸå‘¼ã³åã‚’æ±‚ã‚ã¦ã€',
  'æ—…ç«‹ã£ãŸãµãŸã‚Šã¯ã€ã‚ã‚‹å‡ºæ¥äº‹ã‚’ãã£ã‹ã‘ã«ã€',
  'åå‰ãŒãªã‘ã‚Œã°å­˜åœ¨ã™ã‚‰è¨±ã•ã‚Œãšã€',
  'è¦‹ã¤ã‹ã‚Šæ¬¡ç¬¬ãƒã‚³å‹ãƒ­ãƒœãƒƒãƒˆã«â€œæŠ¹æ¶ˆâ€ã•ã‚Œã‚‹ã€',
  'è¶…ç›£è¦–å‹å…¨ä½“ä¸»ç¾©å›½å®¶ã€ãƒã‚³ãƒ­ã‚¸ã‚¢ã€ã¸ã¨è¿·ã„è¾¼ã‚€ã€‚',
  'åã‚‚ãªãé’å¹´ã¨çŒ«ã«ã€',
  'ã“ã®ä¸–ç•ŒãŒâ€œèª°ã‹â€ã¨ã—ã¦ã®æ˜æ—¥ã‚’',
  'è¨±ã—ã¦ãã‚Œã‚‹æœªæ¥ã¯è¨ªã‚Œã‚‹ã®ã ã‚ã†ã‹ã€‚'
], 5, 900);
});
</script>
    <section class="goods" style="padding:40px 16px; text-align:center;">
  <h2 style="font-size:clamp(20px,4vw,28px); margin-bottom:16px; color:#f5f0e8;">
    ãƒã‚³ãƒ­ã‚¸ã‚¢å…¬å¼ã‚°ãƒƒã‚º
  </h2>
  <img src="images/plush.jpg" alt="ãƒã‚³ãƒ­ã‚¸ã‚¢ã¬ã„ãã‚‹ã¿" style="max-width:300px; width:100%; height:auto; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.3);">
  <p style="margin-top:12px; font-size:14px; color:#9ab0d4;">
    ãŸã ã„ã¾æº–å‚™ä¸­ã§ã™ã€‚è²©å£²é–‹å§‹ã‚’ãŠæ¥½ã—ã¿ã«ï¼
  </p>
</section>
</body>
</html>
